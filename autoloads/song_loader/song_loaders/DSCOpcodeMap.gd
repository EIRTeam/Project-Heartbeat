extends Node

enum AFT_OPCODES {
	END = 0x00,
	TIME = 0x01,
	MIKU_MOVE = 0x02,
	MIKU_ROT = 0x03,
	MIKU_DISP = 0x04,
	MIKU_SHADOW = 0x05,
	TARGET = 0x06,
	SET_MOTION = 0x07,
	SET_PLAYDATA = 0x08,
	EFFECT = 0x09,
	FADEIN_FIELD = 0x0A,
	EFFECT_OFF = 0x0B,
	SET_CAMERA = 0x0C,
	DATA_CAMERA = 0x0D,
	CHANGE_FIELD = 0x0E,
	HIDE_FIELD = 0x0F,
	MOVE_FIELD = 0x10,
	FADEOUT_FIELD = 0x11,
	EYE_ANIM = 0x12,
	MOUTH_ANIM = 0x13,
	HAND_ANIM = 0x14,
	LOOK_ANIM = 0x15,
	EXPRESSION = 0x16,
	LOOK_CAMERA = 0x17,
	LYRIC = 0x18,
	MUSIC_PLAY = 0x19,
	MODE_SELECT = 0x1A,
	EDIT_MOTION = 0x1B,
	BAR_TIME_SET = 0x1C,
	SHADOWHEIGHT = 0x1D,
	EDIT_FACE = 0x1E,
	MOVE_CAMERA = 0x1F,
	PV_END = 0x20,
	SHADOWPOS = 0x21,
	EDIT_LYRIC = 0x22,
	EDIT_TARGET = 0x23,
	EDIT_MOUTH = 0x24,
	SET_CHARA = 0x25,
	EDIT_MOVE = 0x26,
	EDIT_SHADOW = 0x27,
	EDIT_EYELID = 0x28,
	EDIT_EYE = 0x29,
	EDIT_ITEM = 0x2A,
	EDIT_EFFECT = 0x2B,
	EDIT_DISP = 0x2C,
	EDIT_HAND_ANIM = 0x2D,
	AIM = 0x2E,
	HAND_ITEM = 0x2F,
	EDIT_BLUSH = 0x30,
	NEAR_CLIP = 0x31,
	CLOTH_WET = 0x32,
	LIGHT_ROT = 0x33,
	SCENE_FADE = 0x34,
	TONE_TRANS = 0x35,
	SATURATE = 0x36,
	FADE_MODE = 0x37,
	AUTO_BLINK = 0x38,
	PARTS_DISP = 0x39,
	TARGET_FLYING_TIME = 0x3A,
	CHARA_SIZE = 0x3B,
	CHARA_HEIGHT_ADJUST = 0x3C,
	ITEM_ANIM = 0x3D,
	CHARA_POS_ADJUST = 0x3E,
	SCENE_ROT = 0x3F,
	MOT_SMOOTH = 0x40,
	PV_BRANCH_MODE = 0x41,
	DATA_CAMERA_START = 0x42,
	MOVIE_PLAY = 0x43,
	MOVIE_DISP = 0x44,
	WIND = 0x45,
	OSAGE_STEP = 0x46,
	OSAGE_MV_CCL = 0x47,
	CHARA_COLOR = 0x48,
	SE_EFFECT = 0x49,
	EDIT_MOVE_XYZ = 0x4A,
	EDIT_EYELID_ANIM = 0x4B,
	EDIT_INSTRUMENT_ITEM = 0x4C,
	EDIT_MOTION_LOOP = 0x4D,
	EDIT_EXPRESSION = 0x4E,
	EDIT_EYE_ANIM = 0x4F,
	EDIT_MOUTH_ANIM = 0x50,
	EDIT_CAMERA = 0x51,
	EDIT_MODE_SELECT = 0x52,
	PV_END_FADEOUT = 0x53,
	TARGET_FLAG = 0x54,
	ITEM_ANIM_ATTACH = 0x55,
	SHADOW_RANGE = 0x56,
	HAND_SCALE = 0x57,
	LIGHT_POS = 0x58,
	FACE_TYPE = 0x59,
	SHADOW_CAST = 0x5A,
	EDIT_MOTION_F = 0x5B,
	FOG = 0x5C,
	BLOOM = 0x5D,
	COLOR_COLLE = 0x5E,
	DOF = 0x5F,
	CHARA_ALPHA = 0x60,
	AOTO_CAP = 0x61,
	MAN_CAP = 0x62,
	TOON = 0x63,
	SHIMMER = 0x64,
	ITEM_ALPHA = 0x65,
	MOVIE_CUT_CHG = 0x66,
	CHARA_LIGHT = 0x67,
	STAGE_LIGHT = 0x68,
	AGEAGE_CTRL = 0x69,
	PSE = 0x6A,
}

static func get_opcode_parameter_count(opcode: int):
	match opcode:
		AFT_OPCODES.END: return 0
		AFT_OPCODES.TIME: return 1
		AFT_OPCODES.MIKU_MOVE: return 4
		AFT_OPCODES.MIKU_ROT: return 2
		AFT_OPCODES.MIKU_DISP: return 2
		AFT_OPCODES.MIKU_SHADOW: return 2
		AFT_OPCODES.TARGET: return 7
		AFT_OPCODES.SET_MOTION: return 4
		AFT_OPCODES.SET_PLAYDATA: return 2
		AFT_OPCODES.EFFECT: return 6
		AFT_OPCODES.FADEIN_FIELD: return 2
		AFT_OPCODES.EFFECT_OFF: return 1
		AFT_OPCODES.SET_CAMERA: return 6
		AFT_OPCODES.DATA_CAMERA: return 2
		AFT_OPCODES.CHANGE_FIELD: return 1
		AFT_OPCODES.HIDE_FIELD: return 1
		AFT_OPCODES.MOVE_FIELD: return 3
		AFT_OPCODES.FADEOUT_FIELD: return 2
		AFT_OPCODES.EYE_ANIM: return 3
		AFT_OPCODES.MOUTH_ANIM: return 5
		AFT_OPCODES.HAND_ANIM: return 5
		AFT_OPCODES.LOOK_ANIM: return 4
		AFT_OPCODES.EXPRESSION: return 4
		AFT_OPCODES.LOOK_CAMERA: return 5
		AFT_OPCODES.LYRIC: return 2
		AFT_OPCODES.MUSIC_PLAY: return 0
		AFT_OPCODES.MODE_SELECT: return 2
		AFT_OPCODES.EDIT_MOTION: return 4
		AFT_OPCODES.BAR_TIME_SET: return 2
		AFT_OPCODES.SHADOWHEIGHT: return 2
		AFT_OPCODES.EDIT_FACE: return 1
		AFT_OPCODES.MOVE_CAMERA: return 21
		AFT_OPCODES.PV_END: return 0
		AFT_OPCODES.SHADOWPOS: return 3
		AFT_OPCODES.EDIT_LYRIC: return 2
		AFT_OPCODES.EDIT_TARGET: return 5
		AFT_OPCODES.EDIT_MOUTH: return 1
		AFT_OPCODES.SET_CHARA: return 1
		AFT_OPCODES.EDIT_MOVE: return 7
		AFT_OPCODES.EDIT_SHADOW: return 1
		AFT_OPCODES.EDIT_EYELID: return 1
		AFT_OPCODES.EDIT_EYE: return 2
		AFT_OPCODES.EDIT_ITEM: return 1
		AFT_OPCODES.EDIT_EFFECT: return 2
		AFT_OPCODES.EDIT_DISP: return 1
		AFT_OPCODES.EDIT_HAND_ANIM: return 2
		AFT_OPCODES.AIM: return 3
		AFT_OPCODES.HAND_ITEM: return 3
		AFT_OPCODES.EDIT_BLUSH: return 1
		AFT_OPCODES.NEAR_CLIP: return 2
		AFT_OPCODES.CLOTH_WET: return 2
		AFT_OPCODES.LIGHT_ROT: return 3
		AFT_OPCODES.SCENE_FADE: return 6
		AFT_OPCODES.TONE_TRANS: return 6
		AFT_OPCODES.SATURATE: return 1
		AFT_OPCODES.FADE_MODE: return 1
		AFT_OPCODES.AUTO_BLINK: return 2
		AFT_OPCODES.PARTS_DISP: return 3
		AFT_OPCODES.TARGET_FLYING_TIME: return 1
		AFT_OPCODES.CHARA_SIZE: return 2
		AFT_OPCODES.CHARA_HEIGHT_ADJUST: return 2
		AFT_OPCODES.ITEM_ANIM: return 4
		AFT_OPCODES.CHARA_POS_ADJUST: return 4
		AFT_OPCODES.SCENE_ROT: return 1
		AFT_OPCODES.MOT_SMOOTH: return 2
		AFT_OPCODES.PV_BRANCH_MODE: return 1
		AFT_OPCODES.DATA_CAMERA_START: return 2
		AFT_OPCODES.MOVIE_PLAY: return 1
		AFT_OPCODES.MOVIE_DISP: return 1
		AFT_OPCODES.WIND: return 3
		AFT_OPCODES.OSAGE_STEP: return 3
		AFT_OPCODES.OSAGE_MV_CCL: return 3
		AFT_OPCODES.CHARA_COLOR: return 2
		AFT_OPCODES.SE_EFFECT: return 1
		AFT_OPCODES.EDIT_MOVE_XYZ: return 9
		AFT_OPCODES.EDIT_EYELID_ANIM: return 3
		AFT_OPCODES.EDIT_INSTRUMENT_ITEM: return 2
		AFT_OPCODES.EDIT_MOTION_LOOP: return 4
		AFT_OPCODES.EDIT_EXPRESSION: return 2
		AFT_OPCODES.EDIT_EYE_ANIM: return 3
		AFT_OPCODES.EDIT_MOUTH_ANIM: return 2
		AFT_OPCODES.EDIT_CAMERA: return 24
		AFT_OPCODES.EDIT_MODE_SELECT: return 1
		AFT_OPCODES.PV_END_FADEOUT: return 2
		AFT_OPCODES.TARGET_FLAG: return 1
		AFT_OPCODES.ITEM_ANIM_ATTACH: return 3
		AFT_OPCODES.SHADOW_RANGE: return 1
		AFT_OPCODES.HAND_SCALE: return 3
		AFT_OPCODES.LIGHT_POS: return 4
		AFT_OPCODES.FACE_TYPE: return 1
		AFT_OPCODES.SHADOW_CAST: return 2
		AFT_OPCODES.EDIT_MOTION_F: return 6
		AFT_OPCODES.FOG: return 3
		AFT_OPCODES.BLOOM: return 2
		AFT_OPCODES.COLOR_COLLE: return 3
		AFT_OPCODES.DOF: return 3
		AFT_OPCODES.CHARA_ALPHA: return 4
		AFT_OPCODES.AOTO_CAP: return 1
		AFT_OPCODES.MAN_CAP: return 1
		AFT_OPCODES.TOON: return 3
		AFT_OPCODES.SHIMMER: return 3
		AFT_OPCODES.ITEM_ALPHA: return 4
		AFT_OPCODES.MOVIE_CUT_CHG: return 2
		AFT_OPCODES.CHARA_LIGHT: return 3
		AFT_OPCODES.STAGE_LIGHT: return 3
		AFT_OPCODES.AGEAGE_CTRL: return 8
		AFT_OPCODES.PSE: return 2
	return -1
