[gd_scene load_steps=11 format=2]

[ext_resource path="res://autoloads/MouseTrap.gd" type="Script" id=1]
[ext_resource path="res://menus/HBConfirmationWindow.tscn" type="PackedScene" id=2]
[ext_resource path="res://autoloads/CacheSongOverlay.gd" type="Script" id=3]
[ext_resource path="res://autoloads/PPDDialog.gd" type="Script" id=4]
[ext_resource path="res://default_theme_tools.tres" type="Theme" id=5]
[ext_resource path="res://styles/PanelStyleTransparentIcon.tres" type="StyleBox" id=6]
[ext_resource path="res://styles/PanelStyleTransparentIconHover.tres" type="StyleBox" id=7]
[ext_resource path="res://menus/HBHovereableButton.gd" type="Script" id=8]

[sub_resource type="StyleBoxEmpty" id=1]

[sub_resource type="StyleBoxEmpty" id=2]

[node name="CanvasLayer" type="CanvasLayer"]
layer = 128
script = ExtResource( 1 )

[node name="MouseTrap" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PPDFileDialog" type="FileDialog" parent="MouseTrap"]
visible = true
margin_right = 628.0
margin_bottom = 351.0
theme = ExtResource( 5 )
window_title = "Guardar un Archivo"
show_hidden_files = true

[node name="CacheSongOverlay" type="Control" parent="MouseTrap"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="DownloadConfirmPopup" parent="MouseTrap/CacheSongOverlay" instance=ExtResource( 2 )]
text = "This song requires downloading video/audio files from YouTube, would you like to download them?"

[node name="Label" parent="MouseTrap/CacheSongOverlay/DownloadConfirmPopup/Panel/MarginContainer/VBoxContainer" index="0"]
margin_top = 56.0
margin_bottom = 155.0
text = "This song requires downloading video/audio files from YouTube, would you like to download them?"

[node name="AcceptButton" parent="MouseTrap/CacheSongOverlay/DownloadConfirmPopup/Panel/HBoxContainer" index="0"]
margin_left = 77.0
margin_right = 145.0

[node name="AcceptButtonAudio" type="Button" parent="MouseTrap/CacheSongOverlay/DownloadConfirmPopup/Panel/HBoxContainer" index="1"]
margin_left = 165.0
margin_right = 397.0
margin_bottom = 46.0
rect_min_size = Vector2( 55, 0 )
custom_styles/hover = ExtResource( 7 )
custom_styles/pressed = ExtResource( 7 )
custom_styles/normal = ExtResource( 6 )
text = "Yes (audio only)"
script = ExtResource( 8 )

[node name="CancelButton" parent="MouseTrap/CacheSongOverlay/DownloadConfirmPopup/Panel/HBoxContainer" index="2"]
margin_left = 417.0
margin_right = 472.0

[node name="DownloadingPrompt" parent="MouseTrap/CacheSongOverlay" instance=ExtResource( 2 )]
has_cancel = false
has_accept = false
text = "Downloading..."

[node name="ErrorPrompt" parent="MouseTrap/CacheSongOverlay" instance=ExtResource( 2 )]
has_cancel = false
text = "Media for this song is currently being downloaded."
accept_text = "Ok"

[node name="PPDDialog" type="WindowDialog" parent="MouseTrap"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -142.0
margin_top = -113.0
margin_right = 393.0
margin_bottom = 94.0
theme = ExtResource( 5 )
popup_exclusive = true
script = ExtResource( 4 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MarginContainer" type="MarginContainer" parent="MouseTrap/PPDDialog"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/margin_right = 10
custom_constants/margin_top = 10
custom_constants/margin_left = 10
custom_constants/margin_bottom = 10
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="MouseTrap/PPDDialog/MarginContainer"]
margin_left = 10.0
margin_top = 10.0
margin_right = 525.0
margin_bottom = 197.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="RichTextLabel" parent="MouseTrap/PPDDialog/MarginContainer/VBoxContainer"]
margin_right = 515.0
margin_bottom = 126.0
custom_styles/focus = SubResource( 1 )
custom_styles/normal = SubResource( 2 )
bbcode_enabled = true
bbcode_text = "Due to legal and licensing reasons, Project Heartbeat cannot use MP4 files for PPD songs. Read more about why [url=https://store.steampowered.com/news/app/1216230/view/4338607090473617421]here[/url].

The recommended way to share and play community charts is to use the Workshop, PPD suport is provided as a courtesy for transitioning players.

You can either input a YouTube URL or select an ogg file from disk to use as audio."
text = "Due to legal and licensing reasons, Project Heartbeat cannot use MP4 files for PPD songs. Read more about why here.

The recommended way to share and play community charts is to use the Workshop, PPD suport is provided as a courtesy for transitioning players.

You can either input a YouTube URL or select an ogg file from disk to use as audio."
fit_content_height = true
scroll_active = false

[node name="HBoxContainer" type="HBoxContainer" parent="MouseTrap/PPDDialog/MarginContainer/VBoxContainer"]
margin_top = 130.0
margin_right = 515.0
margin_bottom = 155.0

[node name="LineEdit" type="LineEdit" parent="MouseTrap/PPDDialog/MarginContainer/VBoxContainer/HBoxContainer"]
margin_right = 380.0
margin_bottom = 25.0
size_flags_horizontal = 3

[node name="UseYouTube" type="Button" parent="MouseTrap/PPDDialog/MarginContainer/VBoxContainer/HBoxContainer"]
margin_left = 384.0
margin_right = 515.0
margin_bottom = 25.0
focus_mode = 0
text = "Use YouTube Video"

[node name="Button" type="Button" parent="MouseTrap/PPDDialog/MarginContainer/VBoxContainer"]
margin_top = 159.0
margin_right = 515.0
margin_bottom = 184.0
focus_mode = 0
text = "Select from disk"

[node name="AcceptDialog" type="AcceptDialog" parent="MouseTrap/PPDDialog"]
margin_left = -133.0
margin_top = 163.0
margin_right = 309.0
margin_bottom = 237.0
window_title = ""
dialog_text = "Invalid URL, ensure you are using a YouTube URL and that it is valid."
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AddContentDirDialog" type="FileDialog" parent="MouseTrap"]
margin_right = 628.0
margin_bottom = 351.0
theme = ExtResource( 5 )
window_title = "Abrir un Directorio"
mode = 2
access = 2
show_hidden_files = true
current_dir = "/home/eirexe/Project Heartbeat/Project Heartbeat"
current_path = "/home/eirexe/Project Heartbeat/Project Heartbeat/"

[connection signal="meta_clicked" from="MouseTrap/PPDDialog/MarginContainer/VBoxContainer/Label" to="." method="_on_Label_meta_clicked"]
[connection signal="pressed" from="MouseTrap/PPDDialog/MarginContainer/VBoxContainer/Button" to="MouseTrap/PPDFileDialog" method="popup_centered"]

[editable path="MouseTrap/CacheSongOverlay/DownloadConfirmPopup"]
