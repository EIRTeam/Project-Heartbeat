[gd_scene load_steps=5 format=3 uid="uid://boaf7wwj0jd15"]

[ext_resource type="Theme" uid="uid://4xcdimhfc2hy" path="res://default_theme_tools.tres" id="1_ugbcy"]
[ext_resource type="Script" uid="uid://hk61opgfui7g" path="res://tools/editor/media_import_dialog/MediaImportDialog.gd" id="2_1lp5v"]
[ext_resource type="PackedScene" uid="uid://bwkytn46g5yt3" path="res://tools/youtube_dl_downloader_ui/YoutubeDLDownloaderUI.tscn" id="3_4xri5"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_u2q2y"]

[node name="VideoImportdialog" type="AcceptDialog"]
title = "Video/Audio Import"
position = Vector2i(0, 32)
size = Vector2i(478, 179)
visible = true
theme = ExtResource("1_ugbcy")
ok_button_text = "Import"
script = ExtResource("2_1lp5v")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
offset_left = 8.0
offset_top = 8.0
offset_right = 470.0
offset_bottom = 131.0

[node name="Label" type="Label" parent="VBoxContainer"]
layout_mode = 2
text = "Videos imported must be H264 MP4 videos or VP9 webms.
You can also make your song audio only by selecting a vorbis OGG file."

[node name="MediaDownloadHelperButton" type="Button" parent="VBoxContainer"]
layout_mode = 2
text = "Media download helper"

[node name="ImportVideoButton" type="Button" parent="VBoxContainer"]
layout_mode = 2
text = "Select video/audio"

[node name="StatusLabel" type="RichTextLabel" parent="VBoxContainer"]
unique_name_in_owner = true
visible = false
layout_mode = 2
theme_override_styles/fill = SubResource("StyleBoxEmpty_u2q2y")
theme_override_styles/background = SubResource("StyleBoxEmpty_u2q2y")
theme_override_styles/focus = SubResource("StyleBoxEmpty_u2q2y")
theme_override_styles/normal = SubResource("StyleBoxEmpty_u2q2y")
bbcode_enabled = true
text = "Info"
fit_content = true

[node name="VideoImportfileDialog" type="FileDialog" parent="."]
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
access = 2
filters = PackedStringArray("*.mp4;MP4 files", "*.webm;WEBM files", "*.ogg;OGG files")

[node name="ErrorDialog" type="AcceptDialog" parent="."]

[node name="VideoDownloader" type="Window" parent="."]
size = Vector2i(406, 130)
visible = false
wrap_controls = true

[node name="YoutubeDlDownloaderUi" parent="VideoDownloader" instance=ExtResource("3_4xri5")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.0
offset_bottom = 0.0
grow_horizontal = 2
grow_vertical = 2

[connection signal="pressed" from="VBoxContainer/MediaDownloadHelperButton" to="VideoDownloader" method="popup_centered_ratio"]
[connection signal="pressed" from="VBoxContainer/ImportVideoButton" to="VideoImportfileDialog" method="popup_centered_ratio" binds= [0.5]]
[connection signal="file_selected" from="VideoImportfileDialog" to="." method="_parse_video_stream_info"]
